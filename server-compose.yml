version: '2'

services:
  traefik:
    image: traefik:1.4
    command: --web --docker --docker.domain=docker.localhost --logLevel=DEBUG
    ports:
      - "80:80"
      - "8080:8080"
      - "443:443"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - /var/docker/volumes/traefik/traefik.toml:/traefik.toml
      - /var/docker/volumes/traefik/acme:/acme
      - /var/docker/volumes/traefik/logs:/logs
    networks:
      - traefik_default

  schema:
    image: oceanproteinportal/vocab:latest
    labels:
      - "traefik.backend=schema"
      - "traefik.frontend.rule=Host:schema.oceanproteinportal.org;"
      - "traefik.port=9900"
    networks:
      - traefik_default

networks:
  traefik_default:
